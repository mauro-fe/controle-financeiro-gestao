<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Controle Financeiro Pessoal</title>
  <!-- Fonte & Ícones -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkfA+Rv4qIhP1xQ1BMpL0fN+XK2c8+qD7W4VjHSk2nHtVPUEdXf9QY+3g==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
  <!-- Chart.js (somente para visual demonstrativa) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <div class="app">
    <header class="topbar">
      <h1 class="title">Controle Financeiro Pessoal</h1>
      <p class="subtitle">Gerencie suas finanças de forma simples e eficiente</p>
      <nav class="tabs" role="tablist" aria-label="Navegação">
        <button class="tab-btn is-active" aria-selected="true"><i class="fa-solid fa-chart-line"></i> Dashboard</button>
        <button class="tab-btn"><i class="fa-solid fa-plus-circle"></i> Adicionar</button>
        <button class="tab-btn"><i class="fa-solid fa-list"></i> Transações</button>
        <button class="tab-btn"><i class="fa-solid fa-gear"></i> Orçamento</button>
      </nav>
    </header>

    <!-- KPIs -->
    <section class="grid-kpi">
      <article class="card kpi income">
        <div class="head"><span class="label">Receitas do Mês</span><i class="fa-solid fa-arrow-trend-up" aria-hidden="true"></i></div>
        <div class="value" id="kpi-income">R$ 0,00</div>
        <small>Total de receitas em setembro de 2025</small>
      </article>

      <article class="card kpi expense">
        <div class="head"><span class="label">Gastos do Mês</span><i class="fa-solid fa-arrow-trend-down" aria-hidden="true"></i></div>
        <div class="value" id="kpi-expense">R$ 0,00</div>
        <small>Total de gastos em setembro de 2025</small>
      </article>

      <article class="card kpi balance">
        <div class="head"><span class="label">Saldo do Mês</span><i class="fa-solid fa-dollar-sign" aria-hidden="true"></i></div>
        <div class="value" id="kpi-balance">R$ 0,00</div>
        <small>Você está no azul!</small>
      </article>

      <article class="card kpi">
        <div class="head"><span class="label">Transações</span><i class="fa-regular fa-bullseye" aria-hidden="true"></i></div>
        <div class="value" id="kpi-count">0</div>
        <small>Transações registradas este mês</small>
      </article>
    </section>

    <!-- Gráficos -->
    <section class="grid-2">
      <article class="card panel">
        <h3>Gastos por Categoria</h3>
        <p class="desc">Distribuição dos seus gastos do mês atual</p>
        <canvas id="chart-pie" height="200" aria-label="Gráfico de pizza"></canvas>
        <div class="empty" id="empty-pie" hidden>Nenhuma despesa registrada neste período</div>
      </article>

      <article class="card panel">
        <h3>Receitas vs Gastos</h3>
        <p class="desc">Comparação mensal dos últimos 6 meses</p>
        <canvas id="chart-line" height="200" aria-label="Gráfico de linhas"></canvas>
      </article>
    </section>

    <!-- Transações Recentes -->
    <section class="card panel transactions">
      <h3>Transações Recentes</h3>
      <p class="desc">Últimas 5 transações registradas</p>
      <div class="empty" id="empty-list">Nenhuma transação registrada ainda<br><small class="tx-meta">Comece adicionando sua primeira transação!</small></div>
      <ul class="tx-list" id="tx-list" hidden></ul>
    </section>
  </div>

  <script>
    // ===== Helpers de formatação BR =====
    const BRL = (n)=> Number(n||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'});

    // ===== Dados MOCK só para exibir (você pode substituir por fetch no seu app real) =====
    const state = {
      month: 'setembro de 2025',
      transactions: [], // deixe vazio para manter o estado "nenhuma transação"
      categories: [],   // idem
      last6Months: ['mai. de 25','jun. de 25','jul. de 25','ago. de 25','set. de 25','out. de 25'],
      incomeSeries: [0,0,0,0,0,0],
      expenseSeries: [0,0,0,0,0,0]
    };

    // KPIs
    document.getElementById('kpi-income').textContent = BRL(0);
    document.getElementById('kpi-expense').textContent = BRL(0);
    document.getElementById('kpi-balance').textContent = BRL(0);
    document.getElementById('kpi-count').textContent = state.transactions.length;

    // Lista de transações (vazia por padrão para combinar com o Figma)
    const list = document.getElementById('tx-list');
    const emptyList = document.getElementById('empty-list');
    if(state.transactions.length){
      emptyList.hidden = true; list.hidden = false;
      state.transactions.slice(0,5).forEach(tx=>{
        const li = document.createElement('li');
        li.className = 'tx-item';
        li.innerHTML = `<div>
            <strong>${tx.title}</strong><div class="tx-meta">${tx.date} · ${tx.category}</div>
          </div>
          <div style="font-weight:700; color:${tx.amount>=0?'var(--green)':'var(--red)'}">${BRL(tx.amount)}</div>`;
        list.appendChild(li);
      });
    }

    // ===== Gráfico Pizza (categorias) =====
    const pieCtx = document.getElementById('chart-pie');
    const emptyPie = document.getElementById('empty-pie');
    if(state.categories.length === 0){
      // nada para mostrar: escondemos canvas e exibimos vazio
      pieCtx.style.display = 'none';
      emptyPie.hidden = false;
    } else {
      new Chart(pieCtx,{type:'doughnut',data:{
        labels: state.categories.map(c=>c.name),
        datasets:[{data: state.categories.map(c=>c.value)}]
      }, options:{plugins:{legend:{position:'bottom'}}, cutout:'60%'}});
    }

    // ===== Gráfico Linhas (receitas vs gastos) =====
    const lineCtx = document.getElementById('chart-line');
    new Chart(lineCtx, {type:'line', data:{
      labels: state.last6Months,
      datasets:[
        { label:'Gastos', data: state.expenseSeries, tension:.35 },
        { label:'Receitas', data: state.incomeSeries, tension:.35 }
      ]
    }, options:{
      responsive:true,
      scales:{ y:{ beginAtZero:true } }
    }});
  </script>
</body>
</html>
